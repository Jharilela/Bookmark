<ion-view hide-nav-bar="true">
	<ion-header-bar>
    <button class="button button-clear button-positive " ng-click="goBack()">
      <i class="ion-chevron-left"></i>
    </button>
    <div class="h1 title">New user</div>
    <button ng-if="step==1" ng-show="step==1" class="button button-clear button-positive " ng-click="saveData();">
      Next
    </button>
    <button ng-if="step==2" ng-show="step==2" class="button button-clear button-positive " ng-click="saveUser()">
      Finish
    </button>
	</ion-header-bar>
  <no-internet-header></no-internet-header>
  <ion-content class="padding" ng-class="{'has-subheader':!online}">

  <div class="list" ng-if="step==1">

    <!-- First Name -->
    <label class="item item-input item-floating-label">
      <span class="input-label" ng-style="newUser.user.firstName!='' ? {color:'black'} : {color:'red'}">First Name</span>
      <input type="text" placeholder="First Name" ng-model="newUser.user.firstName">
    </label>

    <!-- Last Name -->
    <label class="item item-input item-floating-label">
      <span class="input-label" ng-style="newUser.user.lastName!='' ? {color:'black'} : {color:'red'}">Last Name</span>
      <input type="text" placeholder="Last Name" ng-model="newUser.user.lastName">
    </label>

    <!-- Email -->
    <label class="item item-input item-floating-label">
      <span class="input-label">Email</span>
      <input type="text" placeholder="Email" ng-model="newUser.user.email">
    </label>

    <!-- Password -->
    <label ng-show="createNewUser" class="item item-input item-floating-label">
      <span class="input-label">Password</span>
      <input type="password" placeholder="Password" ng-model="newUser.user.password">
    </label>

    <!-- Phone number -->
    <label class="item item-input item-floating-label">
      <span class="input-label" ng-style="newUser.user.phoneNumber!='' ? {color:'black'} : {color:'red'}">Phone number</span>
      <input type="text" placeholder="Phone Number" ng-model="newUser.user.phoneNumber"> 
    </label>

    <!-- Location -->
    <label class="item item-input item-floating-label">
      <span class="input-label" ng-style="newUser.user.location ? {color:'black'} : {color:'red'}">Address</span>
      <input type="text" placeholder="Address" location-suggestion location="location" ng-model="location.address">
    </label>

    <!-- Country -->
    <label class="item item-input item-select">
      <span class="input-label" ng-style="newUser.user.country!='' ? {color:'black'} : {color:'red'}">Country</span>
      <select ng-model="newUser.user.location.country"> 
        <option ng-repeat="country in countryList" value="{{country.name}}">
            {{country.name}}
        </option>
      </select>    
    </label>

    <div class="register-errorMessage" ng-if="errorMessage!=''">{{errorMessage}}</div>
  </div>

  <div ng-if="step==2" class="newUser-container">
    <img ng-src="{{profilePicture}}" class="profile-picture full photo-location newUser" >
    <a class="button button-positive newUser__photo-icon camera" ng-click="takePicture('camera')">
        <i class="icon ion-camera"></i>
    </a>
    <a class="button button-positive newUser__photo-icon gallery" ng-click="takePicture('photoLibrary')">
        <i class="icon ion-images"></i>
    </a>
    <div class="newUser__photo--text">
        Upload a photo of yourself
    </div>
   </div>
  </ion-content>
</ion-view>